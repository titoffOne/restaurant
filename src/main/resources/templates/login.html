<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</title>
    <link rel="stylesheet" th:href="@{/styles/style.css}">
    <link rel="stylesheet" th:href="@{/styles/login.css}">
</head>
<body>
<div th:insert="blocks/header :: header"></div>

<main class="login-page">
    <h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
    <form class="login-form" th:action="@{/login}" method="POST">
        <label for="username">–õ–æ–≥–∏–Ω</label>
        <input type="email" id="username" name="username" required>
        <label for="password">–ü–∞—Ä–æ–ª—å</label>
        <div class="password-container">
            <input type="password" id="password" name="password" required>
            <button type="button" id="togglePassword" class="toggle-password">üëÅ</button>
        </div>
        <div th:if="${param.error}" class="error-message">
            <p>–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</p>
        </div>
        <div th:if="${param.errorBlocked}" class="error-message">
            <p>–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</p>
        </div>
        <button type="submit" id="enter">–í–æ–π—Ç–∏</button>
    </form>


    <div class="register-section">
        <p>–ï—â–µ –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?
            <a href="/register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </p>
    </div>
</main>
</body>

<script>
    document.getElementById('togglePassword').addEventListener('click', function () {
        const passwordField = document.getElementById('password');
        const isPassword = passwordField.type === 'password';

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞
        passwordField.type = isPassword ? 'text' : 'password';

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏
        this.textContent = isPassword ? 'üôà' : 'üëÅ';
    });
</script>

</html>
